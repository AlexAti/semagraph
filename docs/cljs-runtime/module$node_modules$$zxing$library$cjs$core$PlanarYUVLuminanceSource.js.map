{
"version":3,
"file":"module$node_modules$$zxing$library$cjs$core$PlanarYUVLuminanceSource.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/@zxing/library/cjs/core/PlanarYUVLuminanceSource.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$zxing$library$cjs$core$PlanarYUVLuminanceSource\"] = function(global,require,module,exports) {\n\"use strict\";\n/*\n * Copyright 2009 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*namespace com.google.zxing {*/\nvar System_1 = require(\"./util/System\");\nvar LuminanceSource_1 = require(\"./LuminanceSource\");\nvar InvertedLuminanceSource_1 = require(\"./InvertedLuminanceSource\");\nvar IllegalArgumentException_1 = require(\"./IllegalArgumentException\");\n/**\n * This object extends LuminanceSource around an array of YUV data returned from the camera driver,\n * with the option to crop to a rectangle within the full data. This can be used to exclude\n * superfluous pixels around the perimeter and speed up decoding.\n *\n * It works for any pixel format where the Y channel is planar and appears first, including\n * YCbCr_420_SP and YCbCr_422_SP.\n *\n * @author dswitkin@google.com (Daniel Switkin)\n */\nvar PlanarYUVLuminanceSource = /** @class */ (function (_super) {\n    __extends(PlanarYUVLuminanceSource, _super);\n    function PlanarYUVLuminanceSource(yuvData, dataWidth /*int*/, dataHeight /*int*/, left /*int*/, top /*int*/, width /*int*/, height /*int*/, reverseHorizontal) {\n        var _this = _super.call(this, width, height) || this;\n        _this.yuvData = yuvData;\n        _this.dataWidth = dataWidth;\n        _this.dataHeight = dataHeight;\n        _this.left = left;\n        _this.top = top;\n        if (left + width > dataWidth || top + height > dataHeight) {\n            throw new IllegalArgumentException_1.default('Crop rectangle does not fit within image data.');\n        }\n        if (reverseHorizontal) {\n            _this.reverseHorizontal(width, height);\n        }\n        return _this;\n    }\n    /*@Override*/\n    PlanarYUVLuminanceSource.prototype.getRow = function (y /*int*/, row) {\n        if (y < 0 || y >= this.getHeight()) {\n            throw new IllegalArgumentException_1.default('Requested row is outside the image: ' + y);\n        }\n        var width = this.getWidth();\n        if (row === null || row === undefined || row.length < width) {\n            row = new Uint8ClampedArray(width);\n        }\n        var offset = (y + this.top) * this.dataWidth + this.left;\n        System_1.default.arraycopy(this.yuvData, offset, row, 0, width);\n        return row;\n    };\n    /*@Override*/\n    PlanarYUVLuminanceSource.prototype.getMatrix = function () {\n        var width = this.getWidth();\n        var height = this.getHeight();\n        // If the caller asks for the entire underlying image, save the copy and give them the\n        // original data. The docs specifically warn that result.length must be ignored.\n        if (width === this.dataWidth && height === this.dataHeight) {\n            return this.yuvData;\n        }\n        var area = width * height;\n        var matrix = new Uint8ClampedArray(area);\n        var inputOffset = this.top * this.dataWidth + this.left;\n        // If the width matches the full width of the underlying data, perform a single copy.\n        if (width === this.dataWidth) {\n            System_1.default.arraycopy(this.yuvData, inputOffset, matrix, 0, area);\n            return matrix;\n        }\n        // Otherwise copy one cropped row at a time.\n        for (var y = 0; y < height; y++) {\n            var outputOffset = y * width;\n            System_1.default.arraycopy(this.yuvData, inputOffset, matrix, outputOffset, width);\n            inputOffset += this.dataWidth;\n        }\n        return matrix;\n    };\n    /*@Override*/\n    PlanarYUVLuminanceSource.prototype.isCropSupported = function () {\n        return true;\n    };\n    /*@Override*/\n    PlanarYUVLuminanceSource.prototype.crop = function (left /*int*/, top /*int*/, width /*int*/, height /*int*/) {\n        return new PlanarYUVLuminanceSource(this.yuvData, this.dataWidth, this.dataHeight, this.left + left, this.top + top, width, height, false);\n    };\n    PlanarYUVLuminanceSource.prototype.renderThumbnail = function () {\n        var width = this.getWidth() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;\n        var height = this.getHeight() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;\n        var pixels = new Int32Array(width * height);\n        var yuv = this.yuvData;\n        var inputOffset = this.top * this.dataWidth + this.left;\n        for (var y = 0; y < height; y++) {\n            var outputOffset = y * width;\n            for (var x = 0; x < width; x++) {\n                var grey = yuv[inputOffset + x * PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR] & 0xff;\n                pixels[outputOffset + x] = 0xFF000000 | (grey * 0x00010101);\n            }\n            inputOffset += this.dataWidth * PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;\n        }\n        return pixels;\n    };\n    /**\n     * @return width of image from {@link #renderThumbnail()}\n     */\n    PlanarYUVLuminanceSource.prototype.getThumbnailWidth = function () {\n        return this.getWidth() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;\n    };\n    /**\n     * @return height of image from {@link #renderThumbnail()}\n     */\n    PlanarYUVLuminanceSource.prototype.getThumbnailHeight = function () {\n        return this.getHeight() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;\n    };\n    PlanarYUVLuminanceSource.prototype.reverseHorizontal = function (width /*int*/, height /*int*/) {\n        var yuvData = this.yuvData;\n        for (var y = 0, rowStart = this.top * this.dataWidth + this.left; y < height; y++, rowStart += this.dataWidth) {\n            var middle = rowStart + width / 2;\n            for (var x1 = rowStart, x2 = rowStart + width - 1; x1 < middle; x1++, x2--) {\n                var temp = yuvData[x1];\n                yuvData[x1] = yuvData[x2];\n                yuvData[x2] = temp;\n            }\n        }\n    };\n    PlanarYUVLuminanceSource.prototype.invert = function () {\n        return new InvertedLuminanceSource_1.default(this);\n    };\n    PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR = 2;\n    return PlanarYUVLuminanceSource;\n}(LuminanceSource_1.default));\nexports.default = PlanarYUVLuminanceSource;\n//# sourceMappingURL=PlanarYUVLuminanceSource.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","System_1","LuminanceSource_1","InvertedLuminanceSource_1","IllegalArgumentException_1","PlanarYUVLuminanceSource","_super","yuvData","dataWidth","dataHeight","left","top","width","height","reverseHorizontal","_this","call","default","getRow","PlanarYUVLuminanceSource.prototype.getRow","y","row","getHeight","getWidth","undefined","length","Uint8ClampedArray","arraycopy","getMatrix","PlanarYUVLuminanceSource.prototype.getMatrix","area","matrix","inputOffset","isCropSupported","PlanarYUVLuminanceSource.prototype.isCropSupported","crop","PlanarYUVLuminanceSource.prototype.crop","renderThumbnail","PlanarYUVLuminanceSource.prototype.renderThumbnail","THUMBNAIL_SCALE_FACTOR","pixels","Int32Array","yuv","outputOffset","x","getThumbnailWidth","PlanarYUVLuminanceSource.prototype.getThumbnailWidth","getThumbnailHeight","PlanarYUVLuminanceSource.prototype.getThumbnailHeight","PlanarYUVLuminanceSource.prototype.reverseHorizontal","rowStart","middle","x1","x2","temp","invert","PlanarYUVLuminanceSource.prototype.invert"]
}
