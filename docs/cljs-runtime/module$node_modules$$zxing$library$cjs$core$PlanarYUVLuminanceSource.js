shadow$provide.module$node_modules$$zxing$library$cjs$core$PlanarYUVLuminanceSource=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);
d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var System_1=require("module$node_modules$$zxing$library$cjs$core$util$System");global=require("module$node_modules$$zxing$library$cjs$core$LuminanceSource");var InvertedLuminanceSource_1=require("module$node_modules$$zxing$library$cjs$core$InvertedLuminanceSource"),IllegalArgumentException_1=require("module$node_modules$$zxing$library$cjs$core$IllegalArgumentException");
require=function(_super){function PlanarYUVLuminanceSource(yuvData,dataWidth,dataHeight,left,top,width,height,reverseHorizontal){var _this=_super.call(this,width,height)||this;_this.yuvData=yuvData;_this.dataWidth=dataWidth;_this.dataHeight=dataHeight;_this.left=left;_this.top=top;if(left+width>dataWidth||top+height>dataHeight)throw new IllegalArgumentException_1.default("Crop rectangle does not fit within image data.");reverseHorizontal&&_this.reverseHorizontal(width,height);return _this}__extends(PlanarYUVLuminanceSource,
_super);PlanarYUVLuminanceSource.prototype.getRow=function(y,row){if(0>y||y>=this.getHeight())throw new IllegalArgumentException_1.default("Requested row is outside the image: "+y);var width=this.getWidth();if(null===row||void 0===row||row.length<width)row=new Uint8ClampedArray(width);System_1.default.arraycopy(this.yuvData,(y+this.top)*this.dataWidth+this.left,row,0,width);return row};PlanarYUVLuminanceSource.prototype.getMatrix=function(){var width=this.getWidth(),height=this.getHeight();if(width===
this.dataWidth&&height===this.dataHeight)return this.yuvData;var area=width*height,matrix=new Uint8ClampedArray(area),inputOffset=this.top*this.dataWidth+this.left;if(width===this.dataWidth)return System_1.default.arraycopy(this.yuvData,inputOffset,matrix,0,area),matrix;for(area=0;area<height;area++)System_1.default.arraycopy(this.yuvData,inputOffset,matrix,area*width,width),inputOffset+=this.dataWidth;return matrix};PlanarYUVLuminanceSource.prototype.isCropSupported=function(){return!0};PlanarYUVLuminanceSource.prototype.crop=
function(left,top,width,height){return new PlanarYUVLuminanceSource(this.yuvData,this.dataWidth,this.dataHeight,this.left+left,this.top+top,width,height,!1)};PlanarYUVLuminanceSource.prototype.renderThumbnail=function(){for(var width=this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,height=this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,pixels=new Int32Array(width*height),yuv=this.yuvData,inputOffset=this.top*this.dataWidth+this.left,y=0;y<height;y++){for(var outputOffset=
y*width,x=0;x<width;x++)pixels[outputOffset+x]=4278190080|65793*(yuv[inputOffset+x*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR]&255);inputOffset+=this.dataWidth*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR}return pixels};PlanarYUVLuminanceSource.prototype.getThumbnailWidth=function(){return this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR};PlanarYUVLuminanceSource.prototype.getThumbnailHeight=function(){return this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR};
PlanarYUVLuminanceSource.prototype.reverseHorizontal=function(width,height){for(var yuvData=this.yuvData,y=0,rowStart=this.top*this.dataWidth+this.left;y<height;y++,rowStart+=this.dataWidth)for(var middle=rowStart+width/2,x1=rowStart,x2=rowStart+width-1;x1<middle;x1++,x2--){var temp=yuvData[x1];yuvData[x1]=yuvData[x2];yuvData[x2]=temp}};PlanarYUVLuminanceSource.prototype.invert=function(){return new InvertedLuminanceSource_1.default(this)};PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR=2;return PlanarYUVLuminanceSource}(global.default);
exports.default=require}
//# sourceMappingURL=module$node_modules$$zxing$library$cjs$core$PlanarYUVLuminanceSource.js.map
