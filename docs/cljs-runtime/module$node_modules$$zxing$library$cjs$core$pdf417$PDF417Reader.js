shadow$provide.module$node_modules$$zxing$library$cjs$core$pdf417$PDF417Reader=function(global,require,module,exports){var __values=this&&this.__values||function(o){var s="function"===typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"===typeof o.length)return{next:function(){o&&i>=o.length&&(o=void 0);return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(exports,"__esModule",{value:!0});
var BarcodeFormat_1=require("module$node_modules$$zxing$library$cjs$core$BarcodeFormat"),ChecksumException_1=require("module$node_modules$$zxing$library$cjs$core$ChecksumException"),FormatException_1=require("module$node_modules$$zxing$library$cjs$core$FormatException"),NotFoundException_1=require("module$node_modules$$zxing$library$cjs$core$NotFoundException"),Result_1=require("module$node_modules$$zxing$library$cjs$core$Result"),PDF417Common_1=require("module$node_modules$$zxing$library$cjs$core$pdf417$PDF417Common"),
Integer_1=require("module$node_modules$$zxing$library$cjs$core$util$Integer"),ResultMetadataType_1=require("module$node_modules$$zxing$library$cjs$core$ResultMetadataType"),Detector_1=require("module$node_modules$$zxing$library$cjs$core$pdf417$detector$Detector"),PDF417ScanningDecoder_1=require("module$node_modules$$zxing$library$cjs$core$pdf417$decoder$PDF417ScanningDecoder");global=function(){function PDF417Reader(){}PDF417Reader.prototype.decode=function(image,hints){void 0===hints&&(hints=null);
image=PDF417Reader.decode(image,hints,!1);if(null==image||0===image.length||null==image[0])throw NotFoundException_1.default.getNotFoundInstance();return image[0]};PDF417Reader.prototype.decodeMultiple=function(image,hints){void 0===hints&&(hints=null);try{return PDF417Reader.decode(image,hints,!0)}catch(ignored){if(ignored instanceof FormatException_1.default||ignored instanceof ChecksumException_1.default)throw NotFoundException_1.default.getNotFoundInstance();throw ignored;}};PDF417Reader.decode=
function(image,hints,multiple){var _a,results=[];image=Detector_1.default.detectMultiple(image,hints,multiple);try{for(var _b=__values(image.getPoints()),_c=_b.next();!_c.done;_c=_b.next()){var points=_c.value,decoderResult=PDF417ScanningDecoder_1.default.decode(image.getBits(),points[4],points[5],points[6],points[7],PDF417Reader.getMinCodewordWidth(points),PDF417Reader.getMaxCodewordWidth(points)),result=new Result_1.default(decoderResult.getText(),decoderResult.getRawBytes(),void 0,points,BarcodeFormat_1.default.PDF_417);
result.putMetadata(ResultMetadataType_1.default.ERROR_CORRECTION_LEVEL,decoderResult.getECLevel());var pdf417ResultMetadata=decoderResult.getOther();null!=pdf417ResultMetadata&&result.putMetadata(ResultMetadataType_1.default.PDF417_EXTRA_METADATA,pdf417ResultMetadata);results.push(result)}}catch(e_1_1){var e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error;}}return results.map(function(x){return x})};PDF417Reader.getMaxWidth=function(p1,p2){return null==
p1||null==p2?0:Math.trunc(Math.abs(p1.getX()-p2.getX()))};PDF417Reader.getMinWidth=function(p1,p2){return null==p1||null==p2?Integer_1.default.MAX_VALUE:Math.trunc(Math.abs(p1.getX()-p2.getX()))};PDF417Reader.getMaxCodewordWidth=function(p){return Math.floor(Math.max(Math.max(PDF417Reader.getMaxWidth(p[0],p[4]),PDF417Reader.getMaxWidth(p[6],p[2])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN),Math.max(PDF417Reader.getMaxWidth(p[1],p[5]),PDF417Reader.getMaxWidth(p[7],
p[3])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN)))};PDF417Reader.getMinCodewordWidth=function(p){return Math.floor(Math.min(Math.min(PDF417Reader.getMinWidth(p[0],p[4]),PDF417Reader.getMinWidth(p[6],p[2])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN),Math.min(PDF417Reader.getMinWidth(p[1],p[5]),PDF417Reader.getMinWidth(p[7],p[3])*PDF417Common_1.default.MODULES_IN_CODEWORD/PDF417Common_1.default.MODULES_IN_STOP_PATTERN)))};
PDF417Reader.prototype.reset=function(){};return PDF417Reader}();exports.default=global}
//# sourceMappingURL=module$node_modules$$zxing$library$cjs$core$pdf417$PDF417Reader.js.map
