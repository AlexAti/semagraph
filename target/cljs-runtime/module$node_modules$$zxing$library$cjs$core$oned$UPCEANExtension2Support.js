shadow$provide.module$node_modules$$zxing$library$cjs$core$oned$UPCEANExtension2Support=function(global,require,module,exports){var __values=this&&this.__values||function(o){var s="function"===typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"===typeof o.length)return{next:function(){o&&i>=o.length&&(o=void 0);return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(exports,"__esModule",
{value:!0});var BarcodeFormat_1=require("module$node_modules$$zxing$library$cjs$core$BarcodeFormat"),AbstractUPCEANReader_1=require("module$node_modules$$zxing$library$cjs$core$oned$AbstractUPCEANReader"),Result_1=require("module$node_modules$$zxing$library$cjs$core$Result"),ResultPoint_1=require("module$node_modules$$zxing$library$cjs$core$ResultPoint"),ResultMetadataType_1=require("module$node_modules$$zxing$library$cjs$core$ResultMetadataType"),NotFoundException_1=require("module$node_modules$$zxing$library$cjs$core$NotFoundException");
global=function(){function UPCEANExtension2Support(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]);this.decodeRowStringBuffer=""}UPCEANExtension2Support.prototype.decodeRow=function(rowNumber,row,extensionStartRange){var result=this.decodeRowStringBuffer;row=this.decodeMiddle(row,extensionStartRange,result);var resultString=result.toString();result=UPCEANExtension2Support.parseExtensionString(resultString);rowNumber=[new ResultPoint_1.default((extensionStartRange[0]+extensionStartRange[1])/
2,rowNumber),new ResultPoint_1.default(row,rowNumber)];rowNumber=new Result_1.default(resultString,null,0,rowNumber,BarcodeFormat_1.default.UPC_EAN_EXTENSION,(new Date).getTime());null!=result&&rowNumber.putAllMetadata(result);return rowNumber};UPCEANExtension2Support.prototype.decodeMiddle=function(row,startRange,resultString){var e_1,_a,counters=this.decodeMiddleCounters;counters[0]=0;counters[1]=0;counters[2]=0;counters[3]=0;var end=row.getSize();startRange=startRange[1];for(var checkParity=0,
x=0;2>x&&startRange<end;x++){var bestMatch=AbstractUPCEANReader_1.default.decodeDigit(row,counters,startRange,AbstractUPCEANReader_1.default.L_AND_G_PATTERNS);resultString+=String.fromCharCode(48+bestMatch%10);try{for(var counters_1=(e_1=void 0,__values(counters)),counters_1_1=counters_1.next();!counters_1_1.done;counters_1_1=counters_1.next())startRange+=counters_1_1.value}catch(e_1_1){e_1={error:e_1_1}}finally{try{counters_1_1&&!counters_1_1.done&&(_a=counters_1.return)&&_a.call(counters_1)}finally{if(e_1)throw e_1.error;
}}10<=bestMatch&&(checkParity|=1<<1-x);1!==x&&(startRange=row.getNextSet(startRange),startRange=row.getNextUnset(startRange))}if(2!==resultString.length)throw new NotFoundException_1.default;if(parseInt(resultString.toString())%4!==checkParity)throw new NotFoundException_1.default;return startRange};UPCEANExtension2Support.parseExtensionString=function(raw){return 2!==raw.length?null:new Map([[ResultMetadataType_1.default.ISSUE_NUMBER,parseInt(raw)]])};return UPCEANExtension2Support}();exports.default=
global}
//# sourceMappingURL=module$node_modules$$zxing$library$cjs$core$oned$UPCEANExtension2Support.js.map
