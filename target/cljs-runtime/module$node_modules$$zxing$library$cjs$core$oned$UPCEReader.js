shadow$provide.module$node_modules$$zxing$library$cjs$core$oned$UPCEReader=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=
null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"===typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"===typeof o.length)return{next:function(){o&&i>=o.length&&(o=void 0);return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(exports,"__esModule",{value:!0});var UPCEANReader_1=require("module$node_modules$$zxing$library$cjs$core$oned$UPCEANReader"),
StringBuilder_1=require("module$node_modules$$zxing$library$cjs$core$util$StringBuilder"),NotFoundException_1=require("module$node_modules$$zxing$library$cjs$core$NotFoundException"),BarcodeFormat_1=require("module$node_modules$$zxing$library$cjs$core$BarcodeFormat");global=function(_super){function UPCEReader(){var _this=_super.call(this)||this;_this.decodeMiddleCounters=new Int32Array(4);return _this}__extends(UPCEReader,_super);UPCEReader.prototype.decodeMiddle=function(row,startRange,result){var e_1,
_a,counters=this.decodeMiddleCounters.map(function(x){return x});counters[0]=0;counters[1]=0;counters[2]=0;counters[3]=0;var end=row.getSize();startRange=startRange[1];for(var lgPatternFound=0,x$jscomp$0=0;6>x$jscomp$0&&startRange<end;x$jscomp$0++){var bestMatch=UPCEReader.decodeDigit(row,counters,startRange,UPCEReader.L_AND_G_PATTERNS);result+=String.fromCharCode(48+bestMatch%10);try{for(var counters_1=(e_1=void 0,__values(counters)),counters_1_1=counters_1.next();!counters_1_1.done;counters_1_1=
counters_1.next())startRange+=counters_1_1.value}catch(e_1_1){e_1={error:e_1_1}}finally{try{counters_1_1&&!counters_1_1.done&&(_a=counters_1.return)&&_a.call(counters_1)}finally{if(e_1)throw e_1.error;}}10<=bestMatch&&(lgPatternFound|=1<<5-x$jscomp$0)}UPCEReader.determineNumSysAndCheckDigit(new StringBuilder_1.default(result),lgPatternFound);return startRange};UPCEReader.prototype.decodeEnd=function(row,endStart){return UPCEReader.findGuardPatternWithoutCounters(row,endStart,!0,UPCEReader.MIDDLE_END_PATTERN)};
UPCEReader.prototype.checkChecksum=function(s){return UPCEANReader_1.default.checkChecksum(UPCEReader.convertUPCEtoUPCA(s))};UPCEReader.determineNumSysAndCheckDigit=function(resultString,lgPatternFound){for(var numSys=0;1>=numSys;numSys++)for(var d=0;10>d;d++)if(lgPatternFound===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[numSys][d]){resultString.insert(0,"0"+numSys);resultString.append("0"+d);return}throw NotFoundException_1.default.getNotFoundInstance();};UPCEReader.prototype.getBarcodeFormat=function(){return BarcodeFormat_1.default.UPC_E};
UPCEReader.convertUPCEtoUPCA=function(upce){var upceChars=upce.slice(1,7).split("").map(function(x){return x.charCodeAt(0)}),result=new StringBuilder_1.default;result.append(upce.charAt(0));var lastChar=upceChars[5];switch(lastChar){case 0:case 1:case 2:result.appendChars(upceChars,0,2);result.append(lastChar);result.append("0000");result.appendChars(upceChars,2,3);break;case 3:result.appendChars(upceChars,0,3);result.append("00000");result.appendChars(upceChars,3,2);break;case 4:result.appendChars(upceChars,
0,4);result.append("00000");result.append(upceChars[4]);break;default:result.appendChars(upceChars,0,5),result.append("0000"),result.append(lastChar)}8<=upce.length&&result.append(upce.charAt(7));return result.toString()};UPCEReader.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]);UPCEReader.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];return UPCEReader}(UPCEANReader_1.default);exports.default=global}
//# sourceMappingURL=module$node_modules$$zxing$library$cjs$core$oned$UPCEReader.js.map
