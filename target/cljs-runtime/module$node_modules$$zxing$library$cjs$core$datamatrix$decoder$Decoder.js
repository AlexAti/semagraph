shadow$provide.module$node_modules$$zxing$library$cjs$core$datamatrix$decoder$Decoder=function(global,require,module,exports){var __values=this&&this.__values||function(o){var s="function"===typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"===typeof o.length)return{next:function(){o&&i>=o.length&&(o=void 0);return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(exports,"__esModule",
{value:!0});var ChecksumException_1=require("module$node_modules$$zxing$library$cjs$core$ChecksumException"),GenericGF_1=require("module$node_modules$$zxing$library$cjs$core$common$reedsolomon$GenericGF"),ReedSolomonDecoder_1=require("module$node_modules$$zxing$library$cjs$core$common$reedsolomon$ReedSolomonDecoder"),BitMatrixParser_1=require("module$node_modules$$zxing$library$cjs$core$datamatrix$decoder$BitMatrixParser"),DataBlock_1=require("module$node_modules$$zxing$library$cjs$core$datamatrix$decoder$DataBlock"),
DecodedBitStreamParser_1=require("module$node_modules$$zxing$library$cjs$core$datamatrix$decoder$DecodedBitStreamParser");global=function(){function Decoder(){this.rsDecoder=new ReedSolomonDecoder_1.default(GenericGF_1.default.DATA_MATRIX_FIELD_256)}Decoder.prototype.decode=function(bits){var _a,parser=new BitMatrixParser_1.default(bits);bits=parser.getVersion();parser=parser.readCodewords();bits=DataBlock_1.default.getDataBlocks(parser,bits);parser=0;try{for(var dataBlocks_1=__values(bits),dataBlocks_1_1=
dataBlocks_1.next();!dataBlocks_1_1.done;dataBlocks_1_1=dataBlocks_1.next())parser+=dataBlocks_1_1.value.getNumDataCodewords()}catch(e_1_1){var e_1={error:e_1_1}}finally{try{dataBlocks_1_1&&!dataBlocks_1_1.done&&(_a=dataBlocks_1.return)&&_a.call(dataBlocks_1)}finally{if(e_1)throw e_1.error;}}e_1=new Uint8Array(parser);_a=bits.length;for(dataBlocks_1=0;dataBlocks_1<_a;dataBlocks_1++){parser=bits[dataBlocks_1];dataBlocks_1_1=parser.getCodewords();parser=parser.getNumDataCodewords();this.correctErrors(dataBlocks_1_1,
parser);for(var i=0;i<parser;i++)e_1[i*_a+dataBlocks_1]=dataBlocks_1_1[i]}return DecodedBitStreamParser_1.default.decode(e_1)};Decoder.prototype.correctErrors=function(codewordBytes,numDataCodewords){var codewordsInts=new Int32Array(codewordBytes);try{this.rsDecoder.decode(codewordsInts,codewordBytes.length-numDataCodewords)}catch(ignored){throw new ChecksumException_1.default;}for(var i=0;i<numDataCodewords;i++)codewordBytes[i]=codewordsInts[i]};return Decoder}();exports.default=global}
//# sourceMappingURL=module$node_modules$$zxing$library$cjs$core$datamatrix$decoder$Decoder.js.map
